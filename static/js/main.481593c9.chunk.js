(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{119:function(t,e,n){},122:function(t,e,n){"use strict";n.r(e);var c,r,a=n(1),i=n(0),u=n.n(i),o=n(19),s=n.n(o),b=n(13),l=n(29),j=n(30),f=n(32),d=n(31),O=n(11),h=n(37),p=n(8),_=n(21),m=Object(O.b)((function(t){return{isAuthenticated:_.b.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=Object(h.a)(t,["component","isAuthenticated"]);return Object(a.jsx)(p.b,Object(b.a)(Object(b.a)({},c),{},{render:function(t){return n?Object(a.jsx)(e,Object(b.a)({},t)):Object(a.jsx)(p.a,{to:"/login"})}}))})),g=Object(O.b)((function(t){return{isAuthenticated:_.b.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.restricted,r=Object(h.a)(t,["component","isAuthenticated","restricted"]);return Object(a.jsx)(p.b,Object(b.a)(Object(b.a)({},r),{},{render:function(t){return n&&c?Object(a.jsx)(p.a,{to:"/contacts"}):Object(a.jsx)(e,Object(b.a)({},t))}}))})),x=(n(67),n(49)),C=n(63),v=n.n(C),E=function(t){var e=t.children;return Object(a.jsx)("div",{className:v.a.container,children:e})},S=(n(69),n(70),n(68),n(42),n(18),n(119),n(50)),N=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(a.jsx)(E,{children:Object(a.jsx)(i.Suspense,{fallback:Object(a.jsx)(x.a,{}),children:Object(a.jsx)(p.d,{children:S.a.map((function(t,e){return t.private?Object(a.jsx)(m,Object(b.a)({},t),e):Object(a.jsx)(g,Object(b.a)(Object(b.a)({},t),{},{restricted:t.restricted}),e)}))})})})}}]),n}(i.Component),A=Object(O.b)(null,{onGetCurrentUser:_.a.getCurrentUser})(N),y=n(25),T=n(36),R=n(2),U=n(4),k=n(7),F=Object(R.c)([],(c={},Object(U.a)(c,k.i,(function(t,e){return e.payload})),Object(U.a)(c,k.c,(function(t,e){return[].concat(Object(T.a)(t),[e.payload])})),Object(U.a)(c,k.f,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),L=Object(R.c)(!1,(r={},Object(U.a)(r,k.b,(function(){return!0})),Object(U.a)(r,k.c,(function(){return!1})),Object(U.a)(r,k.a,(function(){return!1})),Object(U.a)(r,k.h,(function(){return!0})),Object(U.a)(r,k.i,(function(){return!1})),Object(U.a)(r,k.g,(function(){return!1})),Object(U.a)(r,k.e,(function(){return!0})),Object(U.a)(r,k.f,(function(){return!1})),Object(U.a)(r,k.d,(function(){return!1})),r)),q=n(35),D=Object(R.c)("",Object(U.a)({},q.a,(function(t,e){return e.payload}))),w=n(48),B=n(64),I=n.n(B),J=n(34),z={key:"auth",storage:I.a,whitelist:["token"]},Q={auth:Object(w.a)(z,J.a),contacts:F,filter:D,loading:L},H=Object(R.a)({reducer:Q,middleware:Object(T.a)(Object(R.d)({serializableCheck:!1}))}),G=Object(w.b)(H),M=n(65);s.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(O.a,{store:H,children:Object(a.jsx)(M.a,{loading:null,persistor:G,children:Object(a.jsx)(y.a,{children:Object(a.jsx)(A,{})})})})}),document.getElementById("root"))},18:function(t,e,n){"use strict";var c=n(22),r=function(t){return t.contacts},a=function(t){return t.filter},i=Object(c.a)([r,a],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),u=Object(c.a)([function(t,e){return e},r],(function(t,e){return e.find((function(e){return e.id===t}))}));e.a={getLoading:function(t){return t.loading},getContacts:r,getFilter:a,getFilteredContacts:i,getContactById:u}},20:function(t,e,n){t.exports={form:"Form_form__7B3DZ",label:"Form_label__1Q1xH",input:"Form_input__1CqXv",button:"Form_button__30Yhs"}},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var c=n(16),r=n.n(c),a=n(6);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var i=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){r.a.defaults.headers.common.Authorization=""},o={register:function(t){return function(e){e(a.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){console.log(t.data),i(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t))}))}},login:function(t){return function(e){e(a.a.loginRequest()),r.a.post("/users/login",t).then((function(t){i(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(i(n),t(a.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){var n=e.data;t(a.a.getCurrentUserSuccess(n))})).catch((function(e){return t(a.a.getCurrentUserError(e))})))}},logout:function(){return function(t){t(a.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),t(a.a.logoutSuccess())})).catch((function(e){return t(a.a.logoutError(e))}))}}},s={isAuthenticated:function(t){return t.auth.token},getUserEmail:function(t){return t.auth.user.email}};n(34)},23:function(t,e,n){"use strict";var c=n(42);n.d(e,"a",(function(){return c.a}));var r=n(18);n.d(e,"b",(function(){return r.a}))},27:function(t,e,n){t.exports={item:"ContactsListItem_item__18RMc",contact:"ContactsListItem_contact__3lgYE",btn:"ContactsListItem_btn__3t6Tb"}},28:function(t,e,n){t.exports={container:"Filter_container__35JP8",label:"Filter_label__3KDJC",input:"Filter_input__ihpZJ",enter:"Filter_enter__35nQC",enterActive:"Filter_enterActive__2jnFC",exit:"Filter_exit__DwQGY",exitActive:"Filter_exitActive__Fj4J4"}},34:function(t,e,n){"use strict";var c,r,a,i=n(4),u=n(2),o=n(12),s=n(6),b={name:null,email:null},l=Object(u.c)(b,(c={},Object(i.a)(c,s.a.registerSuccess,(function(t,e){return e.payload.user})),Object(i.a)(c,s.a.loginSuccess,(function(t,e){return e.payload.user})),Object(i.a)(c,s.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(i.a)(c,s.a.logoutSuccess,(function(){return b})),c)),j=Object(u.c)(null,(r={},Object(i.a)(r,s.a.registerSuccess,(function(t,e){return e.payload.token})),Object(i.a)(r,s.a.loginSuccess,(function(t,e){return e.payload.token})),Object(i.a)(r,s.a.logoutSuccess,(function(){return null})),r)),f=Object(u.c)(null,(a={},Object(i.a)(a,s.a.registerError,(function(t,e){return e.payload})),Object(i.a)(a,s.a.loginError,(function(t,e){return e.payload})),Object(i.a)(a,s.a.logoutError,(function(t,e){return e.payload})),Object(i.a)(a,s.a.getCurrentUserError,(function(t,e){return e.payload})),a));e.a=Object(o.c)({user:l,token:j,error:f})},35:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("FILTER_CONTACTS");e.a=r},38:function(t,e,n){t.exports={container:"Notification_container__2ilXH",text:"Notification_text__2kKkn",enter:"Notification_enter__3Do9k",enterActive:"Notification_enterActive__2VJN_",exit:"Notification_exit__Q_4vR",exitActive:"Notification_exitActive__BUjjg"}},42:function(t,e,n){"use strict";var c=n(16),r=n.n(c),a=n(7);r.a.defaults.baseURL="http://localhost:2000";e.a={addContact:function(t){var e=t.name,n=t.number;return function(t){t(Object(a.b)()),r.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(Object(a.c)(n))})).catch((function(e){return t(Object(a.a)(e))}))}},fetchContacts:function(){return function(t){t(Object(a.h)()),r.a.get("/contacts").then((function(e){var n=e.data;return t(Object(a.i)(n))})).catch((function(e){return t(Object(a.g)(e))}))}},deleteContact:function(t){return function(e){e(Object(a.e)()),r.a.delete("/contacts/".concat(t)).then((function(){return e(Object(a.f)(t))})).catch((function(t){return e(Object(a.d)(t))}))}}}},46:function(t,e,n){t.exports={title:"Title_title__Jpt7i",appear:"Title_appear__15uIa",appearActive:"Title_appearActive__2d5Bd"}},47:function(t,e,n){t.exports={list:"ContactsList_list__3dMBp",enter:"ContactsList_enter__pAWyi",enterActive:"ContactsList_enterActive__1fUVb",exit:"ContactsList_exit__2qlk3",exitActive:"ContactsList_exitActive__2WNcs"}},49:function(t,e,n){"use strict";var c=n(1),r=(n(0),n(99),n(61)),a=n.n(r),i=n(62),u=n.n(i);e.a=function(){return Object(c.jsx)("div",{className:u.a.loader,children:Object(c.jsx)(a.a,{type:"ThreeDots",color:"#f1392d",height:50,width:50})})}},50:function(t,e,n){"use strict";var c=n(0),r=[{exact:!0,path:"/",name:"Home",component:Object(c.lazy)((function(){return n.e(3).then(n.bind(null,123))})),private:!1,restricted:!1},{exact:!0,path:"/register",name:"Register",component:Object(c.lazy)((function(){return n.e(5).then(n.bind(null,124))})),private:!1,restricted:!0},{exact:!0,path:"/login",name:"Login",component:Object(c.lazy)((function(){return n.e(4).then(n.bind(null,125))})),private:!1,restricted:!0},{exact:!0,path:"/contacts",name:"Contacts",component:Object(c.lazy)((function(){return n.e(6).then(n.bind(null,126))})),private:!0,restricted:!1}];e.a=r},6:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),i=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),o=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),l=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),f=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:i,loginRequest:u,loginSuccess:o,loginError:s,logoutRequest:b,logoutSuccess:l,logoutError:j,getCurrentUserRequest:f,getCurrentUserSuccess:d,getCurrentUserError:O}},62:function(t,e,n){t.exports={loader:"Loader_loader__O8fZE"}},63:function(t,e,n){t.exports={container:"Layout_container__2GlEm"}},67:function(t,e,n){"use strict";var c=n(1),r=(n(0),n(66)),a=n(46),i=n.n(a);e.a=function(t){var e=t.title;return Object(c.jsx)(r.a,{in:!0,appear:!0,timeout:500,classNames:i.a,children:Object(c.jsx)("h2",{className:i.a.title,children:e})})}},68:function(t,e,n){"use strict";var c=n(1),r=(n(0),n(66)),a=n(11),i=n(35),u=n(18),o=n(28),s=n.n(o),b={filterContact:i.a};e.a=Object(a.b)((function(t){return{filter:u.a.getFilter(t),contacts:u.a.getContacts(t)}}),b)((function(t){var e=t.filter,n=t.filterContact,a=t.contacts;return Object(c.jsx)(r.a,{in:a.length>1,appear:!0,timeout:250,unmountOnExit:!0,classNames:s.a,children:Object(c.jsx)("div",{className:s.a.container,children:Object(c.jsxs)("label",{className:s.a.label,children:["Find contacts by name",Object(c.jsx)("input",{className:s.a.input,onChange:function(t){return n(t.target.value)},value:e})]})})})}))},69:function(t,e,n){"use strict";var c=n(4),r=n(29),a=n(30),i=n(32),u=n(31),o=n(1),s=n(0),b=n(11),l=n(23),j=n(66),f=n(38),d=n.n(f),O=function(t){var e=t.contactExists;return Object(o.jsx)(j.a,{in:e,appear:!0,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(o.jsx)("div",{className:d.a.container,children:Object(o.jsx)("p",{className:d.a.text,children:"Contact already exists!"})})})},h=n(20),p=n.n(h),_=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return(t=e.call.apply(e,[this].concat(i))).state={name:"",number:"",contactExists:!1},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(c.a)({},r,a))},t.handleSubmit=function(e){e.preventDefault();var n={name:t.state.name,number:t.state.number};if(t.props.contacts.find((function(t){return t.name===n.name})))return t.setState({contactExists:!0}),void setTimeout((function(){return t.setState({contactExists:!1})}),1500);t.props.addContact(n),t.setState({name:"",number:""})},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.contactExists;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(O,{contactExists:c}),Object(o.jsxs)("form",{className:p.a.form,onSubmit:this.handleSubmit,children:[Object(o.jsxs)("label",{className:p.a.label,children:["Name",Object(o.jsx)("input",{type:"text",value:e,name:"name",onChange:this.handleChange,placeholder:"Enter your full name",className:p.a.input,required:!0})]}),Object(o.jsxs)("label",{className:p.a.label,children:["Number",Object(o.jsx)("input",{type:"text",value:n,name:"number",onChange:this.handleChange,placeholder:"xxx-xx-xx",className:p.a.input,required:!0})]}),Object(o.jsx)("input",{type:"submit",value:"Add contact",className:p.a.button})]})]})}}]),n}(s.Component),m={addContact:l.a.addContact};e.a=Object(b.b)((function(t){return{contacts:l.b.getContacts(t)}}),m)(_)},7:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return j}));var c=n(2),r=Object(c.b)("ADD_CONTACT_REQUEST"),a=Object(c.b)("ADD_CONTACT_SUCCESS"),i=Object(c.b)("ADD_CONTACT_ERROR"),u=Object(c.b)("FETCH_CONTACTS_REQUEST"),o=Object(c.b)("FETCH_CONTACTS_SUCCESS"),s=Object(c.b)("FETCH_CONTACTS_ERROR"),b=Object(c.b)("DELETE_CONTACT_REQUEST"),l=Object(c.b)("DELETE_CONTACT_SUCCESS"),j=Object(c.b)("DELETE_CONTACT_ERROR")},70:function(t,e,n){"use strict";var c=n(1),r=(n(0),n(11)),a=n(127),i=n(66),u=n(13),o=n(23),s=n(27),b=n.n(s),l=Object(r.b)((function(t,e){var n=o.b.getContactById(t,e.id);return Object(u.a)({},n)}),(function(t,e){return{deleteContact:function(){return t(o.a.deleteContact(e.id))}}}))((function(t){var e=t.name,n=t.number,r=t.deleteContact;return Object(c.jsxs)("li",{className:b.a.item,children:[Object(c.jsx)("p",{className:b.a.contact,children:e}),Object(c.jsx)("p",{className:b.a.contact,children:n}),Object(c.jsx)("button",{type:"button",className:b.a.btn,onClick:r,children:"X"})]})})),j=n(47),f=n.n(j),d=n(18);e.a=Object(r.b)((function(t){return{searchContact:d.a.getFilteredContacts(t)}}))((function(t){var e=t.searchContact;return Object(c.jsx)(a.a,{component:"ul",className:f.a.list,children:e.map((function(t){var e=t.id;return Object(c.jsx)(i.a,{timeout:250,classNames:f.a,children:Object(c.jsx)(l,{id:e})},e)}))})}))}},[[122,1,2]]]);
//# sourceMappingURL=main.481593c9.chunk.js.map